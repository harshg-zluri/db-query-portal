
> frontend@0.0.0 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/Users/harshgoyal/Desktop/db-query-portal/frontend[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [31m‚ùØ[39m src/components/status-badge/status-badge.test.tsx [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 39[2mms[22m[39m
[31m     [31m√ó[31m renders each status correctly[39m[32m 35[2mms[22m[39m
[31m     [31m√ó[31m renders with custom class[39m[32m 2[2mms[22m[39m
 [31m‚ùØ[39m src/components/select/select.test.tsx [2m([22m[2m6 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 434[2mms[22m[39m
     [33m[2m‚úì[22m[39m renders with label and options [33m 353[2mms[22m[39m
     [32m‚úì[39m renders placeholder[32m 3[2mms[22m[39m
     [32m‚úì[39m handles change events[32m 37[2mms[22m[39m
     [32m‚úì[39m displays error message[32m 19[2mms[22m[39m
[31m     [31m√ó[31m shows loading state[39m[32m 20[2mms[22m[39m
     [32m‚úì[39m renders required asterisk[32m 2[2mms[22m[39m
 [32m‚úì[39m src/features/approvals/components/approval-table/approval-table.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 467[2mms[22m[39m
 [32m‚úì[39m src/features/submissions/components/submission-detail-modal/submission-detail-modal.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 555[2mms[22m[39m
[90mstderr[2m | src/features/admin/components/user-form-modal/user-form-modal.test.tsx[2m > [22m[2mUserFormModal[2m > [22m[2mvalidates password length for new users
[22m[39mAn update to UserFormModal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/features/admin/components/user-form-modal/user-form-modal.test.tsx[2m > [22m[2mUserFormModal[2m > [22m[2mvalidates password length for new users
[22m[39mAn update to UserFormModal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32m‚úì[39m src/features/approvals/components/approval-actions/approval-actions.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 674[2mms[22m[39m
 [32m‚úì[39m src/features/auth/components/login-form/login-form.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 956[2mms[22m[39m
 [32m‚úì[39m src/features/admin/components/user-form-modal/user-form-modal.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 1133[2mms[22m[39m
 [32m‚úì[39m src/features/admin/components/user-table/user-table.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 222[2mms[22m[39m
 [32m‚úì[39m src/features/dashboard/components/script-form/script-form.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 171[2mms[22m[39m
 [32m‚úì[39m src/components/code-viewer/code-viewer.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 226[2mms[22m[39m
 [32m‚úì[39m src/features/submissions/components/submission-table/submission-table.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 384[2mms[22m[39m
 [32m‚úì[39m src/features/dashboard/components/query-form/query-form.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 321[2mms[22m[39m
 [32m‚úì[39m src/components/input/input.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 365[2mms[22m[39m
 [32m‚úì[39m src/components/modal/modal.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[32m 265[2mms[22m[39m
 [32m‚úì[39m src/components/button/button.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 261[2mms[22m[39m
 [32m‚úì[39m src/components/empty-state/empty-state.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[32m 143[2mms[22m[39m
 [32m‚úì[39m src/components/file-upload/file-upload.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 183[2mms[22m[39m
 [32m‚úì[39m src/layouts/sidebar.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[32m 229[2mms[22m[39m
 [32m‚úì[39m src/features/dashboard/components/database-selector/database-selector.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[32m 195[2mms[22m[39m
 [32m‚úì[39m src/components/card/card.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32m‚úì[39m src/components/skeleton/skeleton.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[32m 80[2mms[22m[39m
 [32m‚úì[39m src/components/loading-spinner/loading-spinner.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32m‚úì[39m src/features/approvals/components/warnings-display/warnings-display.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32m‚úì[39m src/utils/utils.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32m‚úì[39m src/utils/dummy.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32m‚úì[39m src/stores/auth-store.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 3 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/select/select.test.tsx[2m > [22mSelect[2m > [22mshows loading state
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: Loading.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-1.5"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative"[31m
      [36m>[31m
        [36m<select[31m
          [33mclass[31m=[32m"w-full px-3 py-2 bg-white text-zinc-900 border border-zinc-200 rounded-md focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:ring-offset-1 disabled:bg-zinc-50 disabled:text-zinc-500 transition-shadow duration-150 appearance-none"[31m
          [33mdisabled[31m=[32m""[31m
          [33mid[31m=[32m"_r_4_"[31m
        [36m>[31m
          [36m<option[31m
            [33mdisabled[31m=[32m""[31m
            [33mvalue[31m=[32m""[31m
          [36m>[31m
            [0mSelect...[0m
          [36m</option>[31m
          [36m<option[31m
            [33mvalue[31m=[32m"1"[31m
          [36m>[31m
            [0mOption 1[0m
          [36m</option>[31m
          [36m<option[31m
            [33mvalue[31m=[32m"2"[31m
          [36m>[31m
            [0mOption 2[0m
          [36m</option>[31m
        [36m</select>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute right-8 top-1/2 -translate-y-1/2 pointer-events-none"[31m
        [36m>[31m
          [36m<svg[31m
            [33mclass[31m=[32m"animate-spin h-4 w-4 text-zinc-500"[31m
            [33mfill[31m=[32m"none"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<circle[31m
              [33mclass[31m=[32m"opacity-25"[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"12"[31m
              [33mr[31m=[32m"10"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-width[31m=[32m"4"[31m
            [36m/>[31m
            [36m<path[31m
              [33mclass[31m=[32m"opacity-75"[31m
              [33md[31m=[32m"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"[31m
              [33mfill[31m=[32m"currentColor"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m‚ùØ[22m Object.getElementError node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m‚ùØ[22m node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m‚ùØ[22m src/components/select/select.test.tsx:[2m45:23[22m[39m
    [90m 43| [39m        [35mconst[39m select [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'combobox'[39m)[33m;[39m
    [90m 44| [39m        [34mexpect[39m(select)[33m.[39m[34mtoBeDisabled[39m()[33m;[39m
    [90m 45| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Loading...'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m 46| [39m
    [90m 47| [39m        [90m// Spinner check (class check)[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/status-badge/status-badge.test.tsx[2m > [22mStatusBadge[2m > [22mrenders each status correctly
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"bg-[#FEF3C7]"[32m[31m[2m)[22m

Expected the element to have class:
[32m  bg-[#FEF3C7][31m
Received:
[31m  inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border bg-amber-100 text-amber-800 border-amber-200[31m[39m
[36m [2m‚ùØ[22m src/components/status-badge/status-badge.test.tsx:[2m16:23[22m[39m
    [90m 14| [39m        [90m// However, let's be more precise.[39m
    [90m 15| [39m        const badge = screen.getByText(/Pending/).closest('span.inline‚Ä¶
    [90m 16| [39m        [34mexpect[39m(badge)[33m.[39m[34mtoHaveClass[39m([32m'bg-[#FEF3C7]'[39m)[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m 17| [39m
    [90m 18| [39m        [34mrerender[39m([33m<[39m[33mStatusBadge[39m [33mstatus[39m[33m=[39m[33m{[39m[33mRequestStatus[39m[33m.[39m[33mAPPROVED[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/status-badge/status-badge.test.tsx[2m > [22mStatusBadge[2m > [22mrenders with custom class
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"custom-badge"[32m[31m[2m)[22m

Expected the element to have class:
[32m  custom-badge[31m
Received:
[31m[31m[39m
[36m [2m‚ùØ[22m src/components/status-badge/status-badge.test.tsx:[2m37:23[22m[39m
    [90m 35| [39m        render(<StatusBadge status={RequestStatus.PENDING} className="‚Ä¶
    [90m 36| [39m        [35mconst[39m badge [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Pending'[39m)[33m.[39m[34mclosest[39m([32m'span'[39m)[33m;[39m
    [90m 37| [39m        [34mexpect[39m(badge)[33m.[39m[34mtoHaveClass[39m([32m'custom-badge'[39m)[33m;[39m
    [90m   | [39m                      [31m^[39m
    [90m 38| [39m    })[33m;[39m
    [90m 39| [39m})[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/3]‚éØ[22m[39m


[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m24 passed[39m[22m[90m (26)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m189 passed[39m[22m[90m (192)[39m
[2m   Start at [22m 12:12:44
[2m   Duration [22m 6.91s[2m (transform 1.46s, setup 6.95s, import 2.49s, tests 7.48s, environment 21.33s)[22m

